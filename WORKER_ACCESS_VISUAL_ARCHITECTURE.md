# Worker Access Control - Visual Architecture

## System Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         USER LOGIN                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   Auth Check            â”‚
                    â”‚   Get user.role         â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚                                 â”‚
         â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”                    â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”
         â”‚ Role Type  â”‚                    â”‚  Role Type  â”‚
         â”‚  = worker  â”‚                    â”‚ â‰  worker    â”‚
         â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜                    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
               â”‚                                 â”‚
         â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ isWorker = true   â”‚          â”‚ isWorker = falseâ”‚
         â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚                                 â”‚
         â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚          5-LAYER PROTECTION SYSTEM                 â”‚
         â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
         â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚  LAYER 1: Role Detection (isWorker memo)           â”‚
         â”‚  âœ“ Worker roles: worker, production, etc.          â”‚
         â”‚  âœ“ Non-worker roles: manager, admin, user, etc.    â”‚
         â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
         â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚  LAYER 2: Sidebar Navigation (Conditional Render)  â”‚
         â”‚                                                     â”‚
         â”‚  IF worker:                                         â”‚
         â”‚    â”œâ”€ Show "Your Portal" section                   â”‚
         â”‚    â”œâ”€ Show Production Portal only                  â”‚
         â”‚    â””â”€ Hide all other menu items                    â”‚
         â”‚                                                     â”‚
         â”‚  IF non-worker:                                     â”‚
         â”‚    â”œâ”€ Show Dashboard                               â”‚
         â”‚    â”œâ”€ Show Materials, Purchases, etc.              â”‚
         â”‚    â””â”€ Show all menu sections                       â”‚
         â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
         â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚  LAYER 3: View Rendering Guard (renderView)        â”‚
         â”‚                                                     â”‚
         â”‚  IF worker:                                         â”‚
         â”‚    â”œâ”€ Check: view === 'production-portal'?         â”‚
         â”‚    â”œâ”€ NO: Log ğŸš¨ BREACH and force redirect         â”‚
         â”‚    â””â”€ YES: Render ProductionPortal only            â”‚
         â”‚                                                     â”‚
         â”‚  IF non-worker:                                     â”‚
         â”‚    â””â”€ Allow normal view switching                  â”‚
         â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
         â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚  LAYER 4: Navigation Guard (navigateSafely)        â”‚
         â”‚                                                     â”‚
         â”‚  IF worker:                                         â”‚
         â”‚    â”œâ”€ Attempted view â‰  production-portal?          â”‚
         â”‚    â”œâ”€ YES: Show error toast + block nav            â”‚
         â”‚    â”œâ”€ Log: ğŸ”’ SECURITY: Blocked access             â”‚
         â”‚    â””â”€ Redirect to production-portal                â”‚
         â”‚                                                     â”‚
         â”‚  IF non-worker:                                     â”‚
         â”‚    â””â”€ Allow navigation                             â”‚
         â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
         â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚  LAYER 5: Auto-Redirect (useEffect watcher)        â”‚
         â”‚                                                     â”‚
         â”‚  Continuous check:                                  â”‚
         â”‚  IF (isWorker && view !== 'production-portal')     â”‚
         â”‚    â”œâ”€ Detect illegal view change                   â”‚
         â”‚    â”œâ”€ Log: ğŸ”’ Worker access detected               â”‚
         â”‚    â”œâ”€ Force setView('production-portal')           â”‚
         â”‚    â””â”€ Prevent any bypass attempts                  â”‚
         â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
         â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚    âœ… GUARANTEED WORKER = PRODUCTION ONLY          â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Decision Tree

```
User Attempts Action
    â”‚
    â”œâ”€â–º Click Menu Item?
    â”‚   â””â”€â–º navigateSafely() checks role
    â”‚       â”œâ”€ Worker: âŒ BLOCK (Layer 4)
    â”‚       â””â”€ Non-worker: âœ… ALLOW
    â”‚
    â”œâ”€â–º URL Manipulation?
    â”‚   â””â”€â–º renderView() checks role
    â”‚       â”œâ”€ Worker: âŒ BLOCK (Layer 3)
    â”‚       â””â”€ Non-worker: âœ… ALLOW
    â”‚
    â”œâ”€â–º DevTools Console Change?
    â”‚   â””â”€â–º useEffect watcher checks constantly
    â”‚       â”œâ”€ Worker: âŒ FORCE REDIRECT (Layer 5)
    â”‚       â””â”€ Non-worker: âœ… ALLOW
    â”‚
    â””â”€â–º View Changed Somehow?
        â””â”€â–º isWorker && view !== 'production-portal'?
            â”œâ”€ YES: âŒ Force production-portal (Layer 5)
            â””â”€ NO: âœ… Continue normally
```

## State Flow Diagram

```
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   Initial Load   â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ Check user.role  â”‚
                    â”‚ Set isWorker      â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚                                     â”‚
    â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”                       â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”
    â”‚   Worker   â”‚                       â”‚ Non-Worker  â”‚
    â”‚ isWorker   â”‚                       â”‚ isWorker    â”‚
    â”‚   = TRUE   â”‚                       â”‚   = FALSE   â”‚
    â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                       â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
          â”‚                                     â”‚
    â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  Sidebar:          â”‚            â”‚  Sidebar:        â”‚
    â”‚  â€¢ Hide nav        â”‚            â”‚  â€¢ Show all nav  â”‚
    â”‚  â€¢ Show badge ğŸ­   â”‚            â”‚  â€¢ No badge      â”‚
    â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                                     â”‚
    â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  Can only access:  â”‚            â”‚  Can access all: â”‚
    â”‚  â€¢ Production      â”‚            â”‚  â€¢ Dashboard     â”‚
    â”‚    Portal only     â”‚            â”‚  â€¢ Products      â”‚
    â”‚                    â”‚            â”‚  â€¢ Clients       â”‚
    â”‚                    â”‚            â”‚  â€¢ etc.          â”‚
    â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                                     â”‚
    â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  Try to nav away?  â”‚            â”‚  Try to nav?     â”‚
    â”‚  âŒ BLOCKED        â”‚            â”‚  âœ… ALLOWED      â”‚
    â”‚  Try URL hack?     â”‚            â”‚  âœ… No blocks    â”‚
    â”‚  âŒ REDIRECTED     â”‚            â”‚  âœ… Free access  â”‚
    â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                                     â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  Audit Log:      â”‚
                    â”‚  â€¢ All attempts  â”‚
                    â”‚  â€¢ Timestamps    â”‚
                    â”‚  â€¢ User ID       â”‚
                    â”‚  â€¢ Action type   â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Permission Matrix - Visual

```
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”³â”â”â”â”â”â”â”â”â”â”â”³â”â”â”â”â”â”â”â”â”â”â”â”“
â”ƒ Feature / Permission                      â”ƒ  Worker  â”ƒ Non-Workerâ”ƒ
â”¡â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â•‡â”â”â”â”â”â”â”â”â”â”â•‡â”â”â”â”â”â”â”â”â”â”â”â”©
â”‚                                           â”‚          â”‚           â”‚
â”‚  ğŸ“Š Dashboard                             â”‚    âŒ    â”‚    âœ…     â”‚
â”‚  â””â”€ View statistics & KPIs                â”‚          â”‚           â”‚
â”‚                                           â”‚          â”‚           â”‚
â”‚  ğŸ­ Production Portal                     â”‚    âœ…    â”‚    âœ…     â”‚
â”‚  â””â”€ Manage production queue                â”‚  ONLY   â”‚  Optional â”‚
â”‚  â””â”€ Update production stages               â”‚          â”‚           â”‚
â”‚                                           â”‚          â”‚           â”‚
â”‚  ğŸ“¦ Products Management                   â”‚    âŒ    â”‚    âœ…     â”‚
â”‚  â””â”€ Add/Edit/Delete products             â”‚          â”‚           â”‚
â”‚                                           â”‚          â”‚           â”‚
â”‚  ğŸ‘¥ Clients Management                    â”‚    âŒ    â”‚    âœ…     â”‚
â”‚  â””â”€ Add/Edit/Delete clients              â”‚          â”‚           â”‚
â”‚                                           â”‚          â”‚           â”‚
â”‚  ğŸ“‹ Materials Management                  â”‚    âŒ    â”‚    âœ…     â”‚
â”‚  â””â”€ Manage materials & stock              â”‚          â”‚           â”‚
â”‚                                           â”‚          â”‚           â”‚
â”‚  ğŸ“Š Inventory                             â”‚    âŒ    â”‚    âœ…     â”‚
â”‚  â””â”€ View & manage inventory               â”‚          â”‚           â”‚
â”‚                                           â”‚          â”‚           â”‚
â”‚  ğŸ›’ Purchases                             â”‚    âŒ    â”‚    âœ…     â”‚
â”‚  â””â”€ Create & manage purchases             â”‚          â”‚           â”‚
â”‚                                           â”‚          â”‚           â”‚
â”‚  ğŸ“ˆ Reports & Analytics                   â”‚    âŒ    â”‚    âœ…     â”‚
â”‚  â””â”€ View business reports                 â”‚          â”‚           â”‚
â”‚                                           â”‚          â”‚           â”‚
â”‚  ğŸšš Delivery Portal                       â”‚    âŒ    â”‚    âœ…     â”‚
â”‚  â””â”€ Manage deliveries                     â”‚          â”‚           â”‚
â”‚                                           â”‚          â”‚           â”‚
â”‚  ğŸ‘‘ Admin Portal                          â”‚    âŒ    â”‚    âœ…     â”‚
â”‚  â””â”€ System administration                 â”‚          â”‚           â”‚
â”‚                                           â”‚          â”‚           â”‚
â”‚  âš™ï¸  Settings                             â”‚    âœ…    â”‚    âœ…     â”‚
â”‚  â””â”€ Language, Theme, Sign Out             â”‚ LIMITED  â”‚   FULL    â”‚
â”‚                                           â”‚          â”‚           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Error Handling Flow

```
User Attempts Restricted Action
         â”‚
         â–¼
  Is Worker?
    â”œâ”€ YES
    â”‚   â”œâ”€ Attempt Blocked
    â”‚   â”œâ”€ Toast Error Shown: "âŒ Access denied: Workers can only 
    â”‚   â”‚                       access Production Portal"
    â”‚   â”œâ”€ Console Log: ğŸ”’ SECURITY: Worker attempted to access...
    â”‚   â””â”€ Force Redirect: production-portal
    â”‚
    â””â”€ NO
        â””â”€ Action Proceeds Normally
```

## Component Protection Example

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Component Hierarchy                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                             â”‚
â”‚  <App>                                      â”‚
â”‚    â”‚                                        â”‚
â”‚    â”œâ”€ isWorker check at top level          â”‚
â”‚    â”‚                                        â”‚
â”‚    â”œâ”€ <AppContent>                         â”‚
â”‚    â”‚   â”‚                                    â”‚
â”‚    â”‚   â”œâ”€ renderView() with guards         â”‚
â”‚    â”‚   â”‚   â”‚                                â”‚
â”‚    â”‚   â”‚   â”œâ”€ ProductionPortal âœ…          â”‚
â”‚    â”‚   â”‚   â”œâ”€ DashboardView âŒ (for worker)â”‚
â”‚    â”‚   â”‚   â”œâ”€ ProductsView âŒ (for worker) â”‚
â”‚    â”‚   â”‚   â””â”€ ... other views blocked      â”‚
â”‚    â”‚   â”‚                                    â”‚
â”‚    â”‚   â””â”€ useEffect watchers               â”‚
â”‚    â”‚       â””â”€ Continuous enforcement       â”‚
â”‚    â”‚                                        â”‚
â”‚    â””â”€ Authorization Layers                 â”‚
â”‚        â”œâ”€ Layer 1: Role Detection          â”‚
â”‚        â”œâ”€ Layer 2: UI Rendering            â”‚
â”‚        â”œâ”€ Layer 3: View Guard              â”‚
â”‚        â”œâ”€ Layer 4: Navigation Guard        â”‚
â”‚        â””â”€ Layer 5: Auto-Redirect           â”‚
â”‚                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

**Visual Architecture Created**: November 7, 2025  
**Security Level**: ğŸŸ¢ FRONTEND (Add Database RLS for âš« FULL)  

